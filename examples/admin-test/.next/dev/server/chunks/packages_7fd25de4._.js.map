{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/packages/plugins/dist/select.js","sources":["file:///home/dev/projects/prisma-tools/packages/plugins/src/select.ts"],"sourcesContent":["import type { DMMF } from '@paljs/types';\nimport type { GraphQLResolveInfo } from 'graphql';\nimport { parseResolveInfo } from 'graphql-parse-resolve-info';\n\nexport interface PrismaSelectOptions<\n  ModelName extends string,\n  ModelsObject extends Record<ModelName, Record<string, any>>,\n> {\n  /**\n   * Object with models and fields to always include, even if not requested in GraphQL query.\n   * @example\n   * const defaultFields = {\n   *    User: { id: true, name: true },\n   *    Post: { id: true, body: true },\n   *    // Function to conditionally add fields\n   *    Account: (select) => select.name ? { firstname: true, lastname: true } : {}\n   * }\n   */\n  defaultFields?: {\n    [model in ModelName]?:\n      | {\n          [field in keyof ModelsObject[model]]?: boolean;\n        }\n      | ((select: any) => { [field in keyof ModelsObject[model]]?: boolean });\n  };\n  /**\n   * Object with models and fields to exclude, even if requested in GraphQL query.\n   * @example\n   * const excludeFields = {\n   *    User: ['password', 'hash'],\n   *    Post: ['internalNotes'],\n   *    // Function to conditionally exclude fields\n   *    Account: (select) => select.isAdmin ? [] : ['secretKey']\n   * }\n   */\n  excludeFields?: {\n    [model in ModelName]?:\n      | (keyof ModelsObject[model] | string)[]\n      | ((select: any) => (keyof ModelsObject[model] | string)[]);\n  };\n  /**\n   * Array of DMMF objects for field validation and filtering.\n   *\n   * **For Prisma 7+**: Use the DMMF from @paljs/generator output:\n   * @example\n   * ```typescript\n   * import { dmmf } from './generated/paljs';\n   *\n   * new PrismaSelect<'User', ModelsObject>(info, {\n   *   dmmf: [dmmf],\n   * });\n   * ```\n   *\n   * **For Prisma 6**: Use Prisma.dmmf from the client:\n   * @example\n   * ```typescript\n   * import { Prisma } from '@prisma/client';\n   *\n   * new PrismaSelect(info, {\n   *   dmmf: [Prisma.dmmf],\n   * });\n   * ```\n   *\n   * **Without DMMF**: PrismaSelect still works but field validation is skipped.\n   * Invalid fields may be passed to Prisma (causing runtime errors).\n   */\n  dmmf?: Pick<DMMF.Document, 'datamodel'>[];\n}\n\n/**\n * Convert GraphQL `info` to a Prisma select object.\n *\n * Supports both Prisma 6 and Prisma 7. For full type safety with Prisma 7,\n * use the types generated by @paljs/generator.\n *\n * @param info - GraphQLResolveInfo from resolver\n *\n * @example Basic usage (works with Prisma 6 and 7)\n * ```typescript\n * const select = new PrismaSelect(info);\n * const users = await prisma.user.findMany({\n *   ...args,\n *   ...select.value,\n * });\n * ```\n *\n * @example With typed models from @paljs/generator (Prisma 7)\n * ```typescript\n * import { dmmf, type ModelsObject, type ModelName } from './generated/paljs';\n *\n * const select = new PrismaSelect<ModelName, ModelsObject>(info, {\n *   dmmf: [dmmf],\n *   defaultFields: {\n *     User: { id: true, email: true },\n *   },\n * });\n *\n * // Fully typed - no more `any`!\n * const users = await prisma.user.findMany(select.value);\n * ```\n *\n * @example GraphQL query transformation\n * ```graphql\n * # GraphQL query\n * {\n *   findManyUser {\n *     id\n *     posts(where: { title: { contains: \"a\" } }, first: 10) {\n *       id\n *       comments { id }\n *     }\n *   }\n * }\n * ```\n *\n * ```typescript\n * // Transforms to Prisma select:\n * {\n *   select: {\n *     id: true,\n *     posts: {\n *       select: { id: true, comments: { select: { id: true } } },\n *       where: { title: { contains: \"a\" } },\n *       first: 10\n *     }\n *   }\n * }\n * ```\n */\n\nexport class PrismaSelect<\n  ModelName extends string = '',\n  ModelsObject extends Record<ModelName, Record<string, any>> = Record<ModelName, Record<string, any>>,\n> {\n  private availableArgs = ['where', 'orderBy', 'skip', 'cursor', 'take', 'distinct'];\n  private allowedProps = ['_count'];\n  private isAggregate = false;\n\n  constructor(\n    private info: GraphQLResolveInfo,\n    private options?: PrismaSelectOptions<ModelName, ModelsObject>,\n  ) {}\n\n  get value() {\n    const returnType = this.info.returnType.toString().replace(/]/g, '').replace(/\\[/g, '').replace(/!/g, '');\n    this.isAggregate = returnType.includes('Aggregate');\n    return this.valueWithFilter(returnType);\n  }\n\n  get dataModel(): DMMF.Model[] {\n    if (this.options?.dmmf) {\n      const models: DMMF.Model[] = [];\n      this.options?.dmmf.forEach((doc) => {\n        models.push(...doc.datamodel.models);\n      });\n      return models;\n    }\n    return [];\n  }\n\n  get defaultFields() {\n    return this.options?.defaultFields;\n  }\n\n  get excludeFields() {\n    return this.options?.excludeFields;\n  }\n\n  private get fields() {\n    return parseResolveInfo(this.info);\n  }\n\n  private static getModelMap(docs?: string, name?: string) {\n    const value = docs?.match(/@PrismaSelect.map\\(\\[(.*?)]\\)/);\n    if (value && name) {\n      const asArray = value[1]\n        .replace(/ /g, '')\n        .split(',')\n        .filter((v) => v);\n      return asArray.includes(name);\n    }\n    return false;\n  }\n\n  private model(name?: string) {\n    return this.dataModel.find((item) => item.name === name || PrismaSelect.getModelMap(item.documentation, name));\n  }\n\n  private field(name: string, model?: DMMF.Model) {\n    return model?.fields.find((item) => item.name === name);\n  }\n\n  static isObject(item: any) {\n    return item && typeof item === 'object' && !Array.isArray(item);\n  }\n\n  static mergeDeep(target: any, ...sources: any[]): any {\n    if (!sources.length) return target;\n    const source: any = sources.shift();\n\n    if (PrismaSelect.isObject(target) && PrismaSelect.isObject(source)) {\n      for (const key in source) {\n        if (PrismaSelect.isObject(source[key])) {\n          if (!target[key]) Object.assign(target, { [key]: {} });\n          PrismaSelect.mergeDeep(target[key], source[key]);\n        } else {\n          Object.assign(target, { [key]: source[key] });\n        }\n      }\n    }\n\n    return PrismaSelect.mergeDeep(target, ...sources);\n  }\n\n  /**\n   * Get nested value from a select object.\n   * @param field - name of field in a select object.\n   * @param filterBy - Model name as you have in schema.prisma file.\n   * @param mergeObject\n   * @example\n   * // Graphql query\n   * {\n   *    findManyUser{\n   *      id\n   *      posts{\n   *        id\n   *        comments{\n   *          id\n   *        }\n   *      }\n   *    }\n   * }\n   *\n   * // when you need to get more nested fields add `.`\n   * PrismaSelect.valueOf('posts.comments', 'Comment');\n   * // return\n   * { select: { id: true } }\n   *\n   * PrismaSelect.valueOf('posts', 'Post');\n   *\n   * // return\n   * { select: { id: true, comments: { select: { id: true } } } }\n   *\n   **/\n  valueOf(field: string, filterBy?: string, mergeObject: any = {}) {\n    const splitItem = field.split('.');\n    let newValue: Record<string, any> = this.getSelect(this.fields);\n    for (const field of splitItem) {\n      if (this.isAggregate && Object.prototype.hasOwnProperty.call(newValue, field)) {\n        newValue = newValue[field];\n      } else if (\n        !this.isAggregate &&\n        Object.prototype.hasOwnProperty.call(newValue, 'select') &&\n        Object.prototype.hasOwnProperty.call(newValue.select, field)\n      ) {\n        newValue = newValue.select[field];\n      } else {\n        return {};\n      }\n    }\n    return filterBy ? PrismaSelect.mergeDeep(this.filterBy(filterBy, newValue), mergeObject) : newValue;\n  }\n\n  /**\n   * Work with this method if your GraphQL type name not like Schema model name.\n   * @param modelName - Model name as you have in schema.prisma file.\n   * @example\n   * // normal call\n   * const select = new PrismaSelect(info).value\n   *\n   * // With filter will filter select object with provided schema model name\n   * const select = new PrismaSelect(info).valueWithFilter('User');\n   *\n   **/\n  valueWithFilter(modelName: string) {\n    return this.filterBy(modelName, this.getSelect(this.fields));\n  }\n\n  private filterBy(modelName: string, selectObject: any) {\n    const model = this.model(modelName);\n    if (model && typeof selectObject === 'object') {\n      let defaultFields = {};\n      if (this.defaultFields && this.defaultFields[modelName]) {\n        const modelFields = this.defaultFields[modelName];\n        defaultFields = typeof modelFields === 'function' ? modelFields(selectObject.select) : modelFields;\n      }\n      const filteredObject = {\n        ...selectObject,\n        select: { ...defaultFields },\n      };\n\n      for (const key in selectObject.select) {\n        if (this.excludeFields && this.excludeFields[modelName]) {\n          const modelFields = this.excludeFields[modelName];\n          const excludeFields = typeof modelFields === 'function' ? modelFields(selectObject.select) : modelFields;\n          if (excludeFields.includes(key)) continue;\n        }\n\n        if (this.allowedProps.includes(key)) {\n          filteredObject.select[key] = selectObject.select[key];\n          continue;\n        }\n\n        const field = this.field(key, model);\n        if (field) {\n          if (field.kind !== 'object') {\n            filteredObject.select[key] = true;\n            continue;\n          }\n\n          const subModelFilter = this.filterBy(field.type, selectObject.select[key]);\n          if (subModelFilter === true) {\n            filteredObject.select[key] = true;\n            continue;\n          }\n\n          if (Object.keys(subModelFilter.select).length > 0) {\n            filteredObject.select[key] = subModelFilter;\n          }\n        }\n      }\n      return filteredObject;\n    } else {\n      return selectObject;\n    }\n  }\n\n  private getArgs(args?: Record<string, unknown>) {\n    const filteredArgs: Record<string, any> = {};\n    if (args) {\n      this.availableArgs.forEach((key) => {\n        if (args[key]) {\n          filteredArgs[key] = args[key];\n        }\n      });\n    }\n    return filteredArgs;\n  }\n\n  private getSelect(fields: PrismaSelect['fields'], parent = true) {\n    const selectObject: any = this.isAggregate ? {} : { select: {}, ...(parent ? {} : this.getArgs(fields?.args)) };\n    if (fields) {\n      Object.keys(fields.fieldsByTypeName).forEach((type) => {\n        const fieldsByTypeName = fields.fieldsByTypeName[type];\n        Object.keys(fieldsByTypeName).forEach((key) => {\n          const fieldName = fieldsByTypeName[key].name;\n          if (Object.keys(fieldsByTypeName[key].fieldsByTypeName).length === 0) {\n            if (this.isAggregate) {\n              selectObject[fieldName] = true;\n            } else {\n              selectObject.select[fieldName] = true;\n            }\n          } else {\n            if (this.isAggregate) {\n              selectObject[fieldName] = this.getSelect(fieldsByTypeName[key], false);\n            } else {\n              selectObject.select[fieldName] = this.getSelect(fieldsByTypeName[key], false);\n            }\n          }\n        });\n      });\n    }\n    return selectObject;\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/packages/plugins/dist/sdlInputs.js","sources":["file:///home/dev/projects/prisma-tools/packages/plugins/src/sdlInputs.ts"],"sourcesContent":["import { writeFileSync } from 'fs';\nimport { type GraphQLSchema, printSchema } from 'graphql';\n\nexport const generateGraphQlSDLFile = (schema: GraphQLSchema, path = 'schema.graphql') => {\n  writeFileSync(path, printSchema(schema));\n};\n"],"names":[],"mappings":";;;;AAAA,MAAA,qBAAmC;AACnC,MAAA,+BAA0D;AAEnD,MAAM,sBAAsB,GAAG,CAAC,MAAqB,EAAE,IAAI,GAAG,gBAAgB,EAAE,EAAE;IACvF,CAAA,GAAA,KAAA,aAAa,EAAC,IAAI,EAAE,CAAA,GAAA,UAAA,WAAW,EAAC,MAAM,CAAC,CAAC,CAAC;AAC3C,CAAC,CAAC;AAFW,QAAA,sBAAsB,GAAA,uBAEjC"}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/packages/plugins/dist/index.js","sources":["file:///home/dev/projects/prisma-tools/packages/plugins/src/index.ts"],"sourcesContent":["export * from './select';\nexport * from './sdlInputs';\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,4GAAA,SAAyB;AACzB,+GAAA,SAA4B"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/packages/nexus/dist/admin.js","sources":["file:///home/dev/projects/prisma-tools/packages/nexus/src/admin.ts"],"sourcesContent":["import { existsSync } from 'fs';\nimport { join } from 'path';\nimport type { AdminSchema } from '@paljs/types';\nimport { LowSync } from 'lowdb';\nimport { JSONFileSync } from 'lowdb/node';\nimport { enumType, extendType, inputObjectType, nonNull, objectType, stringArg } from 'nexus';\nimport type { NexusAcceptedTypeDef } from 'nexus/dist/builder';\n\nexport function adminNexusSchemaSettings(path = 'adminSettings.json') {\n  if (existsSync(join(process.cwd(), path)) || existsSync(path)) {\n    const adapter = new JSONFileSync<AdminSchema>(path);\n    const defaultData: AdminSchema = { models: [], enums: [] };\n    const db = new LowSync<AdminSchema>(adapter, defaultData);\n\n    // Read the data\n    db.read();\n\n    // Ensure data has models and enums arrays\n    if (!db.data) {\n      db.data = defaultData;\n    }\n    if (!db.data.models) {\n      db.data.models = [];\n    }\n    if (!db.data.enums) {\n      db.data.enums = [];\n    }\n    const nexusSchemaInputs: NexusAcceptedTypeDef[] = [\n      extendType({\n        type: 'Query',\n        definition(t) {\n          t.field('getSchema', {\n            type: nonNull('Schema'),\n            resolve() {\n              // Read fresh data\n              db.read();\n              // Ensure we always return data with models and enums arrays\n              return {\n                models: db.data?.models || [],\n                enums: db.data?.enums || [],\n              };\n            },\n          });\n        },\n      }),\n      extendType({\n        type: 'Mutation',\n        definition(t) {\n          t.field('updateField', {\n            type: nonNull('Field'),\n            args: {\n              id: nonNull(stringArg()),\n              modelId: nonNull(stringArg()),\n              data: nonNull('UpdateFieldInput'),\n            },\n            resolve(_, { id, modelId, data }) {\n              // Read current data\n              db.read();\n\n              // Find the model\n              const model = db.data.models?.find((m) => m.id === modelId);\n              if (!model) {\n                throw new Error(`Model with id ${modelId} not found`);\n              }\n\n              // Find the field\n              const field = model.fields?.find((f) => f.id === id);\n              if (!field) {\n                throw new Error(`Field with id ${id} not found in model ${modelId}`);\n              }\n\n              // Update the field\n              Object.assign(field, data);\n\n              // Write the changes\n              db.write();\n\n              return field;\n            },\n          });\n          t.field('updateModel', {\n            type: nonNull('Model'),\n            args: {\n              id: nonNull(stringArg()),\n              data: nonNull('UpdateModelInput'),\n            },\n            resolve(_, { id, data }) {\n              // Read current data\n              db.read();\n\n              // Find the model\n              const model = db.data.models?.find((m) => m.id === id);\n              if (!model) {\n                throw new Error(`Model with id ${id} not found`);\n              }\n\n              // Update the model\n              Object.assign(model, data);\n\n              // Write the changes\n              db.write();\n\n              return model;\n            },\n          });\n        },\n      }),\n      objectType({\n        nonNullDefaults: {\n          output: true,\n        },\n        name: 'Enum',\n        definition(t) {\n          t.string('name');\n          t.list.string('fields');\n        },\n      }),\n      objectType({\n        nonNullDefaults: {\n          output: true,\n        },\n        name: 'Schema',\n        definition(t) {\n          t.list.field('models', { type: 'Model' });\n          t.list.field('enums', { type: 'Enum' });\n        },\n      }),\n      objectType({\n        nonNullDefaults: {\n          output: true,\n        },\n        name: 'Model',\n        definition(t) {\n          t.string('id');\n          t.string('name');\n          t.string('idField');\n          t.list.string('displayFields');\n          t.boolean('create');\n          t.boolean('update');\n          t.boolean('delete');\n          t.list.field('fields', {\n            type: 'Field',\n          });\n        },\n      }),\n      objectType({\n        nonNullDefaults: {\n          output: true,\n        },\n        name: 'Field',\n        definition(t) {\n          t.string('id');\n          t.string('name');\n          t.string('title');\n          t.string('type');\n          t.boolean('list');\n          t.boolean('required');\n          t.boolean('isId');\n          t.boolean('unique');\n          t.boolean('create');\n          t.boolean('update');\n          t.boolean('read');\n          t.boolean('filter');\n          t.boolean('sort');\n          t.boolean('editor');\n          t.boolean('upload');\n          t.nullable.boolean('relationField');\n          t.int('order');\n          t.field('kind', { type: 'KindEnum' });\n        },\n      }),\n      enumType({\n        name: 'KindEnum',\n        members: ['object', 'enum', 'scalar'],\n      }),\n      inputObjectType({\n        nonNullDefaults: {\n          input: false,\n        },\n        name: 'UpdateModelInput',\n        definition(t) {\n          t.string('name');\n          t.string('idField');\n          t.list.string('displayFields');\n          t.boolean('create');\n          t.boolean('update');\n          t.boolean('delete');\n          t.list.field('fields', {\n            type: 'UpdateFieldInput',\n          });\n        },\n      }),\n      inputObjectType({\n        nonNullDefaults: {\n          input: false,\n        },\n        name: 'UpdateFieldInput',\n        definition(t) {\n          t.string('id');\n          t.string('name');\n          t.string('title');\n          t.string('type');\n          t.boolean('list');\n          t.boolean('required');\n          t.boolean('isId');\n          t.boolean('unique');\n          t.boolean('create');\n          t.boolean('update');\n          t.boolean('read');\n          t.boolean('filter');\n          t.boolean('sort');\n          t.boolean('editor');\n          t.boolean('upload');\n          t.nullable.boolean('relationField');\n          t.int('order');\n          t.field('kind', { type: 'KindEnum' });\n        },\n      }),\n    ];\n    return nexusSchemaInputs;\n  }\n  return [];\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 549, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/packages/nexus/dist/scalars/BigInt.js","sources":["file:///home/dev/projects/prisma-tools/packages/nexus/src/scalars/BigInt.ts"],"sourcesContent":["import { GraphQLScalarType } from 'graphql';\nimport { BigIntResolver } from 'graphql-scalars';\nimport { asNexusMethod } from 'nexus';\n\nexport const BigInt = asNexusMethod(\n  new GraphQLScalarType({\n    ...BigIntResolver,\n    description: `The \\`BigInt\\` scalar type represents non-fractional signed whole numeric values.\n@see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt`,\n  }),\n  'bigint',\n);\n"],"names":[],"mappings":";;;;AAAA,MAAA,+BAA4C;AAC5C,MAAA,+CAAiD;AACjD,MAAA,2BAAsC;AAEzB,QAAA,MAAM,GAAG,CAAA,GAAA,QAAA,aAAa,EACjC,IAAI,UAAA,iBAAiB,CAAC;IACpB,GAAG,kBAAA,cAAc;IACjB,WAAW,EAAE,CAAA;6FAC4E;CAC1F,CAAC,EACF,QAAQ,CACT,CAAC"}},
    {"offset": {"line": 565, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/packages/nexus/dist/scalars/Bytes.js","sources":["file:///home/dev/projects/prisma-tools/packages/nexus/src/scalars/Bytes.ts"],"sourcesContent":["import { GraphQLScalarType } from 'graphql';\nimport { ByteResolver } from 'graphql-scalars';\nimport { asNexusMethod } from 'nexus';\n\nexport const Bytes = asNexusMethod(\n  new GraphQLScalarType({\n    ...ByteResolver,\n    // Override the default 'Byte' name with one that matches what Nexus Prisma expects.\n    name: 'Bytes',\n  }),\n  'bytes',\n);\n"],"names":[],"mappings":";;;;AAAA,MAAA,+BAA4C;AAC5C,MAAA,+CAA+C;AAC/C,MAAA,2BAAsC;AAEzB,QAAA,KAAK,GAAG,CAAA,GAAA,QAAA,aAAa,EAChC,IAAI,UAAA,iBAAiB,CAAC;IACpB,GAAG,kBAAA,YAAY;IACf,oFAAoF;IACpF,IAAI,EAAE,OAAO;CACd,CAAC,EACF,OAAO,CACR,CAAC"}},
    {"offset": {"line": 581, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/packages/nexus/dist/scalars/DateTime.js","sources":["file:///home/dev/projects/prisma-tools/packages/nexus/src/scalars/DateTime.ts"],"sourcesContent":["import { GraphQLScalarType } from 'graphql';\nimport { DateTimeResolver } from 'graphql-scalars';\nimport { asNexusMethod } from 'nexus';\n\nexport const DateTime = asNexusMethod(new GraphQLScalarType(DateTimeResolver), 'dateTime');\n"],"names":[],"mappings":";;;;AAAA,MAAA,+BAA4C;AAC5C,MAAA,+CAAmD;AACnD,MAAA,2BAAsC;AAEzB,QAAA,QAAQ,GAAG,CAAA,GAAA,QAAA,aAAa,EAAC,IAAI,UAAA,iBAAiB,CAAC,kBAAA,gBAAgB,CAAC,EAAE,UAAU,CAAC,CAAC"}},
    {"offset": {"line": 593, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/packages/nexus/dist/scalars/Decimal.js","sources":["file:///home/dev/projects/prisma-tools/packages/nexus/src/scalars/Decimal.ts"],"sourcesContent":["import * as DecimalJs from 'decimal.js';\nimport { GraphQLScalarType, Kind } from 'graphql';\nimport { asNexusMethod } from 'nexus';\n\nexport const Decimal = asNexusMethod(\n  /**\n   * Copied from prisma-graphql-type-decimal.\n   *\n   * @see https://github.com/unlight/prisma-graphql-type-decimal\n   */\n  new GraphQLScalarType({\n    name: 'Decimal',\n    description: 'An arbitrary-precision Decimal type',\n    /**\n     * Value sent to the client\n     */\n    serialize(value) {\n      return (value as DecimalJs.Decimal).toString();\n    },\n    /**\n     * Value from the client\n     */\n    parseValue(value) {\n      return new DecimalJs.Decimal(value as DecimalJs.Decimal.Value);\n    },\n    parseLiteral(ast) {\n      if (ast.kind === Kind.INT || ast.kind === Kind.FLOAT || ast.kind === Kind.STRING) {\n        return new DecimalJs.Decimal(ast.value);\n      }\n      return null;\n    },\n  }),\n  'decimal',\n);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAA,YAAA,oCAAwC;AACxC,MAAA,+BAAkD;AAClD,MAAA,2BAAsC;AAEzB,QAAA,OAAO,GAAG,CAAA,GAAA,QAAA,aAAa,EAClC;;;;GAIG,CACH,IAAI,UAAA,iBAAiB,CAAC;IACpB,IAAI,EAAE,SAAS;IACf,WAAW,EAAE,qCAAqC;IAClD;;OAEG,CACH,SAAS,EAAC,KAAK;QACb,OAAQ,KAA2B,CAAC,QAAQ,EAAE,CAAC;IACjD,CAAC;IACD;;OAEG,CACH,UAAU,EAAC,KAAK;QACd,OAAO,IAAI,SAAS,CAAC,OAAO,CAAC,KAAgC,CAAC,CAAC;IACjE,CAAC;IACD,YAAY,EAAC,GAAG;QACd,IAAI,GAAG,CAAC,IAAI,KAAK,UAAA,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,KAAK,UAAA,IAAI,CAAC,KAAK,IAAI,GAAG,CAAC,IAAI,KAAK,UAAA,IAAI,CAAC,MAAM,EAAE,CAAC;YACjF,OAAO,IAAI,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC1C,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CACF,CAAC,EACF,SAAS,CACV,CAAC"}},
    {"offset": {"line": 671, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/packages/nexus/dist/scalars/Json.js","sources":["file:///home/dev/projects/prisma-tools/packages/nexus/src/scalars/Json.ts"],"sourcesContent":["import { GraphQLScalarType } from 'graphql';\nimport { JSONResolver } from 'graphql-scalars';\nimport { asNexusMethod } from 'nexus';\n\nexport const Json = asNexusMethod(\n  new GraphQLScalarType({\n    ...JSONResolver,\n    // Override the default 'JsonObject' name with one that matches what Nexus Prisma expects.\n    name: 'Json',\n  }),\n  'json',\n);\n"],"names":[],"mappings":";;;;AAAA,MAAA,+BAA4C;AAC5C,MAAA,+CAA+C;AAC/C,MAAA,2BAAsC;AAEzB,QAAA,IAAI,GAAG,CAAA,GAAA,QAAA,aAAa,EAC/B,IAAI,UAAA,iBAAiB,CAAC;IACpB,GAAG,kBAAA,YAAY;IACf,0FAA0F;IAC1F,IAAI,EAAE,MAAM;CACb,CAAC,EACF,MAAM,CACP,CAAC"}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/packages/nexus/dist/defaultScalar.js","sources":["file:///home/dev/projects/prisma-tools/packages/nexus/src/defaultScalar.ts"],"sourcesContent":["import { BigInt } from './scalars/BigInt';\nimport { Bytes } from './scalars/Bytes';\nimport { DateTime } from './scalars/DateTime';\nimport { Decimal } from './scalars/Decimal';\nimport { Json } from './scalars/Json';\nimport type { Settings } from './settings';\n\nconst defaultScalar = {\n  BigInt,\n  Bytes,\n  DateTime,\n  Decimal,\n  Json,\n};\n\nexport const getScalars = (excludeScalar: Settings['excludeScalar']) => {\n  return (Object.keys(defaultScalar) as (keyof typeof defaultScalar)[])\n    .filter((scalar) => !excludeScalar || !excludeScalar.includes(scalar))\n    .map((scalar) => defaultScalar[scalar]);\n};\n"],"names":[],"mappings":";;;;AAAA,MAAA,uCAA0C;AAC1C,MAAA,qCAAwC;AACxC,MAAA,2CAA8C;AAC9C,MAAA,yCAA4C;AAC5C,MAAA,mCAAsC;AAGtC,MAAM,aAAa,GAAG;IACpB,MAAM,EAAN,SAAA,MAAM;IACN,KAAK,EAAL,QAAA,KAAK;IACL,QAAQ,EAAR,WAAA,QAAQ;IACR,OAAO,EAAP,UAAA,OAAO;IACP,IAAI,EAAJ,OAAA,IAAI;CACL,CAAC;AAEK,MAAM,UAAU,GAAG,CAAC,aAAwC,EAAE,EAAE;IACrE,OAAQ,MAAM,CAAC,IAAI,CAAC,aAAa,CAAoC,CAClE,MAAM,CAAC,CAAC,MAAM,EAAE,CAAG,CAAD,AAAE,aAAa,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CACrE,GAAG,CAAC,CAAC,MAAM,EAAE,CAAG,CAAD,YAAc,CAAC,MAAM,CAAC,CAAC,CAAC;AAC5C,CAAC,CAAC;AAJW,QAAA,UAAU,GAAA,WAIrB"}},
    {"offset": {"line": 711, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/packages/nexus/dist/index.js","sources":["file:///home/dev/projects/prisma-tools/packages/nexus/src/index.ts"],"sourcesContent":["import { PrismaSelect } from '@paljs/plugins';\nimport { objectType, plugin } from 'nexus';\nimport type { NexusAcceptedTypeDef } from 'nexus/dist/builder';\nimport type { AllNexusOutputTypeDefs } from 'nexus/dist/definitions/wrapping';\nimport { adminNexusSchemaSettings } from './admin';\nimport { getScalars } from './defaultScalar';\nimport type { Settings } from './settings';\n\nexport type { Settings };\n\nexport const paljs = <\n  ModelName extends string = '',\n  ModelsObject extends Record<ModelName, Record<string, any>> = Record<ModelName, Record<string, any>>,\n>(\n  settings?: Settings<ModelName, ModelsObject>,\n) =>\n  plugin({\n    name: 'paljs',\n    description:\n      'paljs plugin to add Prisma select to your resolver and prisma admin queries and mutations and all models input types',\n    onInstall(builder) {\n      const nexusSchemaInputs: (NexusAcceptedTypeDef | AllNexusOutputTypeDefs)[] = [\n        objectType({\n          name: 'BatchPayload',\n          definition(t) {\n            t.nonNull.int('count');\n          },\n        }),\n        ...getScalars(settings?.excludeScalar),\n      ];\n\n      if (settings?.includeAdmin) {\n        nexusSchemaInputs.push(...adminNexusSchemaSettings(settings?.adminSchemaPath));\n      }\n      for (const type of nexusSchemaInputs) {\n        builder.addType(type);\n      }\n    },\n    onCreateFieldResolver() {\n      return async (root, args, ctx, info: any, next) => {\n        ctx.select = new PrismaSelect<ModelName, ModelsObject>(info, {\n          ...settings?.prismaSelectOptions,\n        }).value;\n        return await next(root, args, ctx, info);\n      };\n    },\n  });\n"],"names":[],"mappings":";;;;AAAA,MAAA,sCAA8C;AAC9C,MAAA,2BAA2C;AAG3C,MAAA,6BAAmD;AACnD,MAAA,6CAA6C;AAKtC,MAAM,KAAK,GAAG,CAInB,QAA4C,EAC5C,CACA,CADE,AACF,GAAA,QAAA,MAAM,EAAC;QACL,IAAI,EAAE,OAAO;QACb,WAAW,EACT,sHAAsH;QACxH,SAAS,EAAC,OAAO;YACf,MAAM,iBAAiB,GAAsD;gBAC3E,CAAA,GAAA,QAAA,UAAU,EAAC;oBACT,IAAI,EAAE,cAAc;oBACpB,UAAU,EAAC,CAAC;wBACV,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;oBACzB,CAAC;iBACF,CAAC;mBACC,CAAA,GAAA,gBAAA,UAAU,EAAC,QAAQ,KAAA,QAAR,QAAQ,KAAA,KAAA,IAAA,KAAA,IAAR,QAAQ,CAAE,aAAa,CAAC;aACvC,CAAC;YAEF,IAAI,QAAQ,KAAA,QAAR,QAAQ,KAAA,KAAA,IAAA,KAAA,IAAR,QAAQ,CAAE,YAAY,EAAE,CAAC;gBAC3B,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAA,GAAA,QAAA,wBAAwB,EAAC,QAAQ,KAAA,QAAR,QAAQ,KAAA,KAAA,IAAA,KAAA,IAAR,QAAQ,CAAE,eAAe,CAAC,CAAC,CAAC;YACjF,CAAC;YACD,KAAK,MAAM,IAAI,IAAI,iBAAiB,CAAE,CAAC;gBACrC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACxB,CAAC;QACH,CAAC;QACD,qBAAqB;YACnB,OAAO,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,IAAS,EAAE,IAAI,EAAE,EAAE;gBAChD,GAAG,CAAC,MAAM,GAAG,IAAI,UAAA,YAAY,CAA0B,IAAI,EAAE;oBAC3D,GAAG,QAAQ,KAAA,QAAR,QAAQ,KAAA,KAAA,IAAA,KAAA,IAAR,QAAQ,CAAE,mBAAmB;iBACjC,CAAC,CAAC,KAAK,CAAC;gBACT,OAAO,MAAM,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;YAC3C,CAAC,CAAC;QACJ,CAAC;KACF,CAAC,CAAC;AApCQ,QAAA,KAAK,GAAA,MAoCb"}}]
}